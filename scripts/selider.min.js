$(function(){$.fn.selider=function(k){var f=$(this),v=f.width(),o=f.find("ul"),h=o.find("li").length,e=h+1,B=$("#sThumbnail"),A=B.find("ul"),z=A.find("li"),q=$("#sThumbPrev"),r=$("#sThumbNext"),D=q.outerWidth(true)*2,w=parseInt(B.css("border-left-width"))*2,c=parseInt($("#sThumbContainer").css("margin-left")),l=v-(D+w+c),d=Math.round(h/(l/z.outerWidth(true))),b=0,y=0,x=0,C=$.extend({speed:4000,pause:true,nextPrev:true,paging:false,thumbnail:false},k),n,E,t,u,p,s,a=function(){clearTimeout(u);if(y==e){y=0;o.css("left",0);a()}else{u=setTimeout(a,C.speed)}if(C.paging){t.eq(y==h?0:y).addClass("on").siblings().removeClass("on")}o.animate({left:-y*v},500);y++},F=function(){C.paging=false;q.click(function(){if(b>0){--b;A.animate({left:-l*b},400)}});r.click(function(){if(d>b){++b;A.animate({left:-l*b},400)}});z.click(function(){y=$(this).index();a()})},n=function(){f.after('<div id="sPaging"><ul></ul></div>');n=$("#sPaging"),E=n.find("ul");for(x;x<h;x++){E.append("<li/>")}t=E.find("li");n.css("width",v);E.css("width",h*t.outerWidth(true));t.click(function(){y=$(this).index();a()})},g=function(){f.append('<div id="sPrev"></div><div id="sNext"></div>');$("#sPrev").click(function(){y=(y!=1)?y-2:0;a()});$("#sNext").click(function(){a()})},m=function(){f.hover(function(){p=setInterval(function(){clearTimeout(u)},C.speed/2)},function(){clearInterval(p);u=setTimeout(a,C.speed)})};o.css("width",v*e).append(o.find("li:first").clone());C.thumbnail?F():s;C.paging?n():s;C.nextPrev?g():s;C.pause?m():s;a();return f}});
